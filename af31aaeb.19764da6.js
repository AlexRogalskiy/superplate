(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{113:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return d}));var r=n(3),a=n(7),o=(n(0),n(132)),c={id:"redux",title:"Redux",sidebar_label:"Redux"},i={unversionedId:"state-management/redux",id:"state-management/redux",isDocsHomePage:!1,title:"Redux",description:"Redux is a predictable state container for JavaScript apps.",source:"@site/docs/state-management/redux.md",slug:"/state-management/redux",permalink:"/superplate/docs/state-management/redux",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/state-management/redux.md",version:"current",sidebar_label:"Redux",sidebar:"someSidebar",previous:{title:"styled-components Support",permalink:"/superplate/docs/styled-components"},next:{title:"Recoil",permalink:"/superplate/docs/state-management/recoil"}},s=[{value:"Configure Store &amp; Setup Reducers",id:"configure-store--setup-reducers",children:[]},{value:"Hooks (useSelector &amp; useDispatch)",id:"hooks-useselector--usedispatch",children:[]},{value:"Middleware",id:"middleware",children:[]},{value:"Adding Redux to your project later",id:"adding-redux-to-your-project-later",children:[]}],u={toc:s};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Redux is a predictable state container for JavaScript apps."),Object(o.b)("p",null,"It helps you write applications that behave consistently, run in different environments (client, server, and native), and are easy to test. On top of that, it provides a great developer experience, such as live code editing combined with a time traveling debugger.",Object(o.b)("br",{parentName:"p"}),"\n",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://redux.js.org/introduction/getting-started"}),"Refer to official documentation for detailed usage. ","\u2192")),Object(o.b)("p",null,"superplate serves an optional ",Object(o.b)("inlineCode",{parentName:"p"},"redux")," plugin that prepares a hooks based Redux setup"),Object(o.b)("h3",{id:"configure-store--setup-reducers"},"Configure Store & Setup Reducers"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Create a store with a root reducer")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/redux/store.ts"',title:'"src/redux/store.ts"'}),'import { createStore } from "redux";\n\nimport rootReducer from "./reducers";\n\nexport default createStore(rootReducer);\n')),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Add a root reducer that combines reducers.")),Object(o.b)("p",null,Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://redux.js.org/recipes/structuring-reducers/using-combinereducers"}),"Refer to official documentation on combineReducers for detailed usage. ","\u2192")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/redux/reducers/index.ts"',title:'"src/redux/reducers/index.ts"'}),'import { combineReducers } from "redux";\n\nimport counter from "./counter";\n\nexport default combineReducers({ counter });\n')),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/redux/reducers/counter/index.ts"',title:'"src/redux/reducers/counter/index.ts"'}),'import { INCREASE, DECREASE } from "@redux/actionTypes";\n\nconst initialState = {\n  count: 20,\n};\n\nexport default function Counter(state = initialState, action) {\n  switch (action.type) {\n    case INCREASE:\n      return {\n        count: state.count + 1,\n      };\n    case DECREASE:\n      return {\n        count: state.count - 1,\n      };\n    default:\n      return state;\n  }\n}\n')),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Add action types ",Object(o.b)("inlineCode",{parentName:"li"},"INCREASE"),", ",Object(o.b)("inlineCode",{parentName:"li"},"DECREASE"),".")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/redux/actionTypes.ts"',title:'"src/redux/actionTypes.ts"'}),'export const INCREASE = "INCREASE";\nexport const DECREASE = "DECREASE";\n')),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Then pass ",Object(o.b)("inlineCode",{parentName:"li"},"store")," to ",Object(o.b)("inlineCode",{parentName:"li"},"Provider")," from React-Redux in ",Object(o.b)("inlineCode",{parentName:"li"},"_app.tsx"))),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx",metastring:'title="pages/_app.tsx"',title:'"pages/_app.tsx"'}),'import React from "react";\nimport { AppProps } from "next/app";\nimport { Provider } from "react-redux";\nimport store from "@redux/store";\n\nfunction MyApp({ Component, pageProps }: AppProps): JSX.Element {\n  return (\n    <Provider store={store}>\n      <Component {...pageProps} />\n    </Provider>\n  );\n}\n\nexport default MyApp;\n\n')),Object(o.b)("p",null,"Now everything's ready to read data from store and dispatch some actions to make changes to store state."),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(r.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(r.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(r.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(o.b)("div",Object(r.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"All this work will be handled automatically by CLI, so you don\u2019t need to do anything extra as long as you choose ",Object(o.b)("strong",{parentName:"p"},"Redux")," plugin during the project creation phase."))),Object(o.b)("p",null,Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://redux.js.org/recipes/configuring-your-store"}),"Refer to official documentation on configuring store for detailed usage. ","\u2192"),Object(o.b)("br",{parentName:"p"}),"\n",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://redux.js.org/recipes/structuring-reducers/structuring-reducers"}),"Refer to official documentation on structuring reducers for detailed usage. ","\u2192")),Object(o.b)("h3",{id:"hooks-useselector--usedispatch"},"Hooks (useSelector & useDispatch)"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"useSelector")," from React-Redux is used to read data from store. It accepts a single selector function. A selector is a function that takes the entire Redux store state as its argument, reads some value from the state, and returns that result."),Object(o.b)("p",null,"The React-Redux also provides a ",Object(o.b)("inlineCode",{parentName:"p"},"useDispatch")," hook that gives us the store's dispatch method as its result. This method is used to dispatch actions to make changes to the store state."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx",metastring:'title="src/components/counter/index.tsx"',title:'"src/components/counter/index.tsx"'}),'import React from "react";\n// highlight-start\nimport { useDispatch, useSelector } from "react-redux";\n// highlight-end\n\nimport { increase, decrease } from "@redux/actions";\nimport { IState } from "@redux/istate";\n\nexport default function Counter() {\n  // highlight-start\n  const dispatch = useDispatch();\n  const count = useSelector((state: IState) => state.counter.count);\n  // highlight-end\n  \n  return (\n    <div>\n      <div>\n        <h2>Counter</h2>\n        <button\n          type="button"\n          // highlight-start\n          onClick={() => dispatch(increase())}\n          // highlight-end\n        >\n          +\n        </button>\n        <span>{count}</span>\n        <button\n          type="button"\n          // highlight-start\n          onClick={() => dispatch(decrease())}\n          // highlight-end\n        >\n          -\n        </button>\n      </div>\n    </div>\n  );\n}\n')),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"increase")," and ",Object(o.b)("inlineCode",{parentName:"p"},"decrease")," are action creator methods that return actual action objects for dispatch"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/redux/actions.ts"',title:'"src/redux/actions.ts"'}),'import { INCREASE, DECREASE } from "./actionTypes";\n\nexport const increase = () => ({\n  type: INCREASE,\n});\n\nexport const decrease = () => ({\n  type: DECREASE,\n});\n')),Object(o.b)("p",null,Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://redux.js.org/tutorials/fundamentals/part-5-ui-react#reading-state-from-the-store-with-useselector"}),"Refer to official documentation on Hooks usage for detailed usage. ","\u2192")),Object(o.b)("h3",{id:"middleware"},"Middleware"),Object(o.b)("p",null,"Redux middleware provides a third-party extension point between dispatching an action, and the moment it reaches the reducer. Redux middleware can be used for logging, crash reporting, talking to an asynchronous API, routing, and more."),Object(o.b)("p",null,Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://redux.js.org/tutorials/fundamentals/part-4-store#middleware"}),"Refer to official documentation on Middleware for detailed usage. ","\u2192")),Object(o.b)("h3",{id:"adding-redux-to-your-project-later"},"Adding Redux to your project later"),Object(o.b)("p",null,"If you didn't choose the plugin during project creation phase, you can follow the instructions below to add it."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"install ",Object(o.b)("inlineCode",{parentName:"li"},"redux")," and ",Object(o.b)("inlineCode",{parentName:"li"},"react-redux")," packages")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"npm install redux && npm install react-redux\n")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"#configure-store--setup-reducers"}),"Follow insctructions in Configure Store & Setup Reducers"))),Object(o.b)("p",null,Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://redux.js.org/introduction/installation"}),"Refer to official documentation on installation for detailed usage. ","\u2192")))}d.isMDXComponent=!0},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),d=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=d(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),l=d(n),b=r,m=l["".concat(c,".").concat(b)]||l[b]||p[b]||o;return n?a.a.createElement(m,i(i({ref:t},u),{},{components:n})):a.a.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,c=new Array(o);c[0]=b;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,c[1]=i;for(var u=2;u<o;u++)c[u]=n[u];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);